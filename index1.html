<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>PCC389 FAQ - Multilingual Support</title>
  <style>
    :root {
      --bg: #0b1220;
      --panel: #0f172a;
      --text: #e2e8f0;
      --muted: #94a3b8;
      --brand: #60a5fa;
      --success: #4ade80;
      --error: #f87171;
      --warning: #fbbf24;
    }
    
    * { box-sizing: border-box; }
    
    html { 
      font-size: 18px; 
      scroll-behavior: smooth;
    }
    
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      line-height: 1.6;
    }
    
    header, main {
      width: 100%;
      max-width: 900px;
      padding: 1rem;
    }
    
    header { 
      border-bottom: 1px solid var(--muted); 
      text-align: center;
    }
    
    h1 {
      color: var(--brand);
      margin-bottom: 1rem;
      font-size: 2.5rem;
      background: linear-gradient(135deg, var(--brand), #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .subtitle {
      color: var(--muted);
      font-size: 1.1rem;
      margin-bottom: 2rem;
    }
    
    .controls {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin: 1rem 0;
    }
    
    .search, .lang, .category-filter {
      padding: 0.75rem 1rem;
      font-size: 1rem;
      border: 1px solid var(--muted);
      border-radius: 8px;
      background: var(--panel);
      color: var(--text);
      transition: all 0.2s ease;
    }
    
    .search:focus, .lang:focus, .category-filter:focus {
      outline: none;
      border-color: var(--brand);
      box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.2);
    }
    
    .card {
      background: var(--panel);
      border: 1px solid var(--muted);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1rem;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .card:hover {
      border-color: var(--brand);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }
    
    .card.emergency {
      border-color: var(--error);
      background: linear-gradient(135deg, var(--panel), rgba(248, 113, 113, 0.05));
    }
    
    .card.pending {
      border-left: 4px solid var(--warning);
    }
    
    .q {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--brand);
    }
    
    .a {
      font-size: 1.1rem;
      line-height: 1.7;
      color: var(--text);
      margin-bottom: 1rem;
    }
    
    .meta {
      color: var(--muted);
      font-size: 0.85rem;
      margin-top: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    
    .category-tag {
      background: rgba(96, 165, 250, 0.1);
      color: var(--brand);
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
      border: 1px solid rgba(96, 165, 250, 0.3);
    }
    
    .status-badge {
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
    }
    
    .status-answered {
      background: rgba(74, 222, 128, 0.1);
      color: var(--success);
      border: 1px solid rgba(74, 222, 128, 0.3);
    }
    
    .status-pending {
      background: rgba(251, 191, 36, 0.1);
      color: var(--warning);
      border: 1px solid rgba(251, 191, 36, 0.3);
    }
    
    .action-buttons {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }
    
    .copy-btn, .translate-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.85rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 1px solid;
    }
    
    .copy-btn {
      background: rgba(96, 165, 250, 0.1);
      color: var(--brand);
      border-color: rgba(96, 165, 250, 0.3);
    }
    
    .copy-btn:hover {
      background: rgba(96, 165, 250, 0.2);
      transform: translateY(-1px);
    }
    
    .copy-btn.copied {
      background: rgba(74, 222, 128, 0.1);
      color: var(--success);
      border-color: rgba(74, 222, 128, 0.3);
    }
    
    .translate-btn {
      background: rgba(251, 191, 36, 0.1);
      color: var(--warning);
      border-color: rgba(251, 191, 36, 0.3);
    }
    
    .translate-btn:hover {
      background: rgba(251, 191, 36, 0.2);
      transform: translateY(-1px);
    }
    
    .translate-btn.translating {
      opacity: 0.7;
      cursor: not-allowed;
    }
    
    .new-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--brand);
      color: var(--bg);
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      margin: 2rem 0 1rem;
      transition: all 0.2s ease;
    }
    
    .new-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(96, 165, 250, 0.4);
    }
    
    .loading, .error, .empty {
      text-align: center;
      padding: 3rem 2rem;
      color: var(--muted);
      font-size: 1.1rem;
    }
    
    .stats {
      color: var(--muted);
      font-size: 0.9rem;
      margin-bottom: 1rem;
      text-align: center;
    }
    
    .emergency-contact {
      background: rgba(248, 113, 113, 0.1);
      border: 1px solid var(--error);
      border-radius: 12px;
      padding: 1rem;
      margin: 1rem 0;
      text-align: center;
    }
    
    .phone {
      font-size: 1.3rem;
      font-weight: bold;
      color: var(--text);
      text-decoration: none;
    }
    
    .translation-notice {
      background: rgba(251, 191, 36, 0.1);
      border: 1px solid var(--warning);
      border-radius: 8px;
      padding: 0.75rem;
      margin: 0.5rem 0;
      text-align: center;
      font-size: 0.9rem;
      color: var(--warning);
    }

    /* Êñ∞Â¢ûÊ†∑Âºè - Êèê‰∫§Ë°®ÂçïÂíåÁÆ°ÁêÜÂëòÈù¢Êùø */
    .submit-section {
      background: var(--panel);
      border: 1px solid var(--muted);
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem 0;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--brand);
      font-weight: 600;
    }

    .form-input, .form-select, .form-textarea {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid var(--muted);
      border-radius: 8px;
      background: var(--bg);
      color: var(--text);
    }

    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }

    .submit-btn {
      background: var(--brand);
      color: var(--bg);
      padding: 0.75rem 2rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      font-weight: 600;
    }

    .admin-stats {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 1rem 0;
      padding: 1rem;
      background: var(--panel);
      border-radius: 8px;
    }

    .pending-count {
      color: var(--warning);
      font-weight: 600;
    }

    .admin-toggle {
      background: var(--warning);
      color: var(--bg);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
    }

    .status-message {
      margin-top: 1rem;
      padding: 0.75rem;
      border-radius: 8px;
      text-align: center;
      font-weight: 500;
    }
    
    .status-success {
      background: rgba(74, 222, 128, 0.1);
      color: var(--success);
      border: 1px solid var(--success);
    }
    
    .status-error {
      background: rgba(248, 113, 113, 0.1);
      color: var(--error);
      border: 1px solid var(--error);
    }
    
    @media (max-width: 600px) {
      html { font-size: 16px; }
      header, main { padding: 0.75rem; }
      .card { padding: 1.25rem; }
      .controls { flex-direction: column; }
      h1 { font-size: 2rem; }
      .action-buttons { flex-direction: column; }
      .admin-stats { flex-direction: column; gap: 1rem; }
    }
    
    @media (min-width: 768px) {
      .controls { flex-direction: row; }
      .search { flex: 1; }
      .lang, .category-filter { width: auto; min-width: 160px; }
    }
  </style>
</head>
<body>
  <header>
    <h1>PCC389 FAQ</h1>
    <div class="subtitle">Frequently Asked Questions for Residents</div>
    
    <div class="emergency-contact">
      <h3>üö® Plumbing Emergency</h3>
      <a href="tel:905-566-1269" class="phone">üìû 905-566-1269</a>
    </div>
    
    <div class="controls">
      <input class="search" id="search" placeholder="Search questions and answers‚Ä¶" autocomplete="off">
      <select class="category-filter" id="category">
        <option value="">All Categories</option>
      </select>
      <select class="lang" id="lang">
        <option value="en">English</option>
        <option value="fr">Fran√ßais (French)</option>
        <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá (Chinese Simplified)</option>
        <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá (Chinese Traditional)</option>
        <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)</option>
        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)</option>
        <option value="es">Espa√±ol (Spanish)</option>
        <option value="tl">Tagalog (Filipino)</option>
        <option value="it">Italiano (Italian)</option>
        <option value="de">Deutsch (German)</option>
        <option value="pt">Portugu√™s (Portuguese)</option>
        <option value="vi">Ti·∫øng Vi·ªát (Vietnamese)</option>
        <option value="ko">ÌïúÍµ≠Ïñ¥ (Korean)</option>
        <option value="fa">ŸÅÿßÿ±ÿ≥€å (Persian)</option>
        <option value="ru">–†—É—Å—Å–∫–∏–π (Russian)</option>
        <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
        <option value="pl">Polski (Polish)</option>
        <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ (Ukrainian)</option>
      </select>
    </div>
    <div class="stats" id="stats"></div>
    <div id="translation-notice" class="translation-notice" style="display: none;">
      üåê ‰ΩøÁî® LibreTranslate ÂÖçË¥πÁøªËØëÊúçÂä° | ÁøªËØëÂ§±Ë¥•Êó∂ÂèØ‰ΩøÁî®Â§çÂà∂ÂäüËÉΩ
    </div>
  </header>

  <main id="main">
    <div id="list" class="loading">Loading FAQ‚Ä¶</div>
    
    <!-- ÁÆ°ÁêÜÂëòÁªüËÆ°ÂíåÈù¢Êùø -->
    <div class="admin-stats">
      <span class="pending-count">Pending: ?</span>
      <a class="admin-toggle" href="https://github.com/konbinoxx-cell/pcc389faq/issues?q=is%3Aissue+is%3Aopen+label%3Apending" target="_blank">
        Manage Questions on GitHub
      </a>
    </div>

    <!-- Êèê‰∫§Ë°®Âçï -->
    <section class="submit-section">
      <h2>Submit New Question</h2>
      
      <form id="faq-form">
        <div class="form-group">
          <label class="form-label">Your Question</label>
          <textarea class="form-textarea" name="question" placeholder="Please describe your question in detail..." required></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">Category</label>
          <select class="form-select" name="category">
            <option value="General Questions">General Questions</option>
            <option value="Plumbing">Plumbing</option>
            <option value="Electricity">Electricity</option>
            <option value="Heating & Cooling">Heating & Cooling</option>
            <option value="Fitness Center">Fitness Center</option>
            <option value="Parking">Parking</option>
            <option value="Security">Security</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Contact Info (optional)</label>
          <input class="form-input" name="contact" type="text" placeholder="Phone or Email">
        </div>

        <button type="submit" class="submit-btn">Submit Question</button>
      </form>
      
      <div id="submit-status"></div>
    </section>
  </main>

  <script>
    // === Ê†∏ÂøÉÁøªËØëÁ≥ªÁªü ===
    const LIBRE_SERVERS = [
      'https://translate.argosopentech.com',
      'https://libretranslate.de',
      'https://translate.fortitudo.tech'
    ];

    async function translateText(text, targetLang) {
        if (!text || targetLang === 'en') return text;
        
        const cacheKey = `libre_${targetLang}:${text}`;
        const cached = sessionStorage.getItem(cacheKey);
        if (cached) return cached;

        for (const server of LIBRE_SERVERS) {
            try {
                const response = await fetch(`${server}/translate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        q: text,
                        source: 'en',
                        target: targetLang,
                        format: 'text'
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const translated = data.translatedText;
                    sessionStorage.setItem(cacheKey, translated);
                    return translated;
                }
            } catch (error) {
                console.log(`Server ${server} failed, trying next...`);
                continue;
            }
        }
        
        return text;
    }

    async function copyToClipboard(text) {
        try {
            await navigator.clipboard.writeText(text);
            return true;
        } catch (err) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            return true;
        }
    }

    // === FAQ Êï∞ÊçÆ ===
    const FAQ_DATA = {
      faqs: [
        {
          id: 1,
          question: "Welcome! How do I get started?",
          answer: "Welcome to PCC389! For any questions about building services, please check this FAQ first. If you can't find what you're looking for, feel free to submit a new question using the form below.",
          category: "General Questions",
          date: "2024-01-15",
          status: "answered"
        },
        {
          id: 2,
          question: "What should I do if there's a plumbing emergency?",
          answer: "For urgent plumbing issues (flooding, major leaks), please contact building maintenance immediately at 905-566-1269. For non-urgent issues, you can submit a maintenance request through the office.",
          category: "Plumbing",
          date: "2024-01-10",
          status: "answered"
        },
        {
          id: 3,
          question: "How do I access the fitness center?",
          answer: "The fitness center is accessible 24/7 using your resident keycard. Please remember to clean equipment after use and follow all posted safety guidelines.",
          category: "Fitness Center",
          date: "2024-01-08",
          status: "answered"
        },
        {
          id: 4,
          question: "Bathrooms no power",
          answer: "The bathroom has a GFCI socket that has tripped due to overload or short circuit protection. To reset it, simply press the reset button on the socket. This socket is located on the left-hand side upon entering the small bathroom.",
          category: "Electricity",
          date: "2024-01-15",
          status: "answered"
        },
        {
          id: 5,
          question: "How to setup my Thermostat?",
          answer: "The thermostat setting method: A standard mechanical thermostat is typically used indoors. A small round box is placed on a short wall near the floor-to-ceiling window in the living room. On the left side of the box is a 'cool-off-heat' switch; this switch cools in summer and heats in winter. On the right side of the box is the fan switch, set to automatic. In the center of the box is a disc with semi-circular graduations at the top and bottom. The top graduation shows the set temperature, and the bottom graduation shows the current temperature. Behind the wall is another switch to set the fan speed.",
          category: "Heating & Cooling",
          date: "2024-01-15",
          status: "answered"
        }
      ]
    };

    const search = document.getElementById('search');
    const lang = document.getElementById('lang');
    const categoryFilter = document.getElementById('category');
    const stats = document.getElementById('stats');
    
    let originalList = FAQ_DATA.faqs;
    let categories = new Set();

    // === Ë°®ÂçïÊèê‰∫§Â§ÑÁêÜ ===
    document.getElementById('faq-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = this.querySelector('.submit-btn');
      const statusDiv = document.getElementById('submit-status');
      const originalText = submitBtn.innerHTML;
      
      try {
        submitBtn.disabled = true;
        submitBtn.innerHTML = 'Submitting...';
        statusDiv.innerHTML = '';
        
        const form = e.target;
        const data = {
          question: form.question.value,
          category: form.category.value,
          contact: form.contact.value || 'Not provided'
        };

        // Êèê‰∫§Âà∞ÂêéÁ´ØÊúçÂä°Âô®
        const res = await fetch('http://localhost:3000/submit', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify(data)
        });
        
        const msg = await res.text();
        
        // ÊòæÁ§∫Êèê‰∫§Áä∂ÊÄÅ
        if (res.ok) {
          statusDiv.innerHTML = `<div class="status-message status-success">${msg}</div>`;
          form.reset();
        } else {
          statusDiv.innerHTML = `<div class="status-message status-error">${msg}</div>`;
        }
        
      } catch (error) {
        console.error('Submission error:', error);
        statusDiv.innerHTML = '<div class="status-message status-error">‚ùå Network error. Please try again or call 905-566-1269.</div>';
      } finally {
        submitBtn.disabled = false;
        submitBtn.innerHTML = 'Submit Question';
      }
    });

    // === ÁÆ°ÁêÜÂëòÂäüËÉΩ ===
    async function updatePendingCount() {
      try {
        const response = await fetch('https://api.github.com/repos/konbinoxx-cell/pcc389faq/issues?labels=pending&state=open');
        const issues = await response.json();
        const count = issues.length;
        document.querySelector('.pending-count').textContent = `Pending: ${count}`;
      } catch (error) {
        console.log('Could not fetch pending count');
        document.querySelector('.pending-count').textContent = 'Pending: ?';
      }
    }

    // === FAQ ÊòæÁ§∫ÂäüËÉΩ ===
    let searchTimeout;
    search.addEventListener('input', () => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(render, 300);
    });
    
    lang.addEventListener('change', () => {
      document.getElementById('translation-notice').style.display = 
        lang.value !== 'en' ? 'block' : 'none';
      render();
    });
    
    categoryFilter.addEventListener('change', render);

    function updateStats(visibleCount) {
      const answered = originalList.filter(f => f.status === 'answered').length;
      const pending = originalList.filter(f => f.status === 'pending').length;
      stats.textContent = `Showing ${visibleCount} of ${originalList.length} questions (${answered} answered, ${pending} pending)`;
    }

    function updateCategories() {
      categories = new Set(originalList.map(item => item.category).filter(Boolean));
      categoryFilter.innerHTML = '<option value="">All Categories</option>';
      
      Array.from(categories).sort().forEach(cat => {
        const option = document.createElement('option');
        option.value = cat;
        option.textContent = cat;
        categoryFilter.appendChild(option);
      });
    }

    async function render() {
      const kw = search.value.toLowerCase().trim();
      const selectedLang = lang.value;
      const selectedCategory = categoryFilter.value;
      const container = document.getElementById('list');

      let filteredList = originalList.filter(item => {
        const matchesSearch = !kw || 
          item.question.toLowerCase().includes(kw) || 
          item.answer.toLowerCase().includes(kw);
        
        const matchesCategory = !selectedCategory || item.category === selectedCategory;
        
        return matchesSearch && matchesCategory;
      });

      if (filteredList.length === 0) {
        container.innerHTML = '<div class="empty">No matching questions found</div>';
        updateStats(0);
        return;
      }

      filteredList.sort((a, b) => {
        if (a.category === 'Plumbing' && b.category !== 'Plumbing') return -1;
        if (a.status === 'pending' && b.status !== 'pending') return -1;
        return new Date(b.date) - new Date(a.date);
      });

      if (selectedLang === 'en') {
        renderEnglishCards(filteredList);
      } else {
        await renderTranslatedCards(filteredList, selectedLang);
      }
    }

    function renderEnglishCards(list) {
      const container = document.getElementById('list');
      const cards = list.map(item => createCardHTML(item, item.question, item.answer));
      container.innerHTML = cards.join('');
      updateStats(list.length);
      attachEventListeners();
    }

    async function renderTranslatedCards(list, targetLang) {
      const container = document.getElementById('list');
      container.innerHTML = '<div class="loading">üåê Translating content‚Ä¶</div>';
      
      try {
        const translatedItems = await Promise.all(
          list.map(async (item) => {
            const translatedQuestion = await translateText(item.question, targetLang);
            const translatedAnswer = await translateText(item.answer, targetLang);
            return {
              ...item,
              translatedQuestion,
              translatedAnswer
            };
          })
        );

        const cards = translatedItems.map(item => 
          createCardHTML(item, item.translatedQuestion, item.translatedAnswer, targetLang)
        );
        
        container.innerHTML = cards.join('');
        updateStats(list.length);
        attachEventListeners();
        
      } catch (error) {
        console.error('Translation failed:', error);
        container.innerHTML = '<div class="error">‚ùå Translation failed. Please try again or use copy feature.</div>';
      }
    }

    function createCardHTML(item, questionText, answerText, lang = 'en') {
      const isEmergency = item.category === 'Plumbing';
      const isPending = item.status === 'pending';
      const cardClass = `card ${isEmergency ? 'emergency' : ''} ${isPending ? 'pending' : ''}`;
      const copyText = `Q: ${item.question}\nA: ${item.answer}`;
      
      return `
        <div class="${cardClass}">
          <div class="q">${questionText}</div>
          <div class="a">${answerText}</div>
          <div class="action-buttons">
            <button class="copy-btn" data-text="${encodeURIComponent(copyText)}">
              üìã ${lang === 'en' ? 'Copy Text' : 'Â§çÂà∂ÂéüÊñá'}
            </button>
            ${lang !== 'en' ? `
              <button class="translate-btn" data-question="${encodeURIComponent(item.question)}" data-answer="${encodeURIComponent(item.answer)}">
                üîÑ Re-translate
              </button>
            ` : ''}
          </div>
          <div class="meta">
            <div>
              <span class="category-tag">${item.category}</span>
              <span class="status-badge status-${item.status}">${item.status}</span>
            </div>
            <span>${new Date(item.date).toLocaleDateString()}</span>
          </div>
        </div>`;
    }

    function attachEventListeners() {
      document.querySelectorAll('.copy-btn').forEach(btn => {
        btn.addEventListener('click', async () => {
          const text = decodeURIComponent(btn.dataset.text);
          const success = await copyToClipboard(text);
          
          if (success) {
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚úÖ Copied!';
            btn.classList.add('copied');
            
            setTimeout(() => {
              btn.innerHTML = originalText;
              btn.classList.remove('copied');
            }, 2000);
          }
        });
      });

      document.querySelectorAll('.translate-btn').forEach(btn => {
        btn.addEventListener('click', async () => {
          const question = decodeURIComponent(btn.dataset.question);
          const answer = decodeURIComponent(btn.dataset.answer);
          const targetLang = lang.value;
          
          btn.innerHTML = 'üîÑ Translating...';
          btn.classList.add('translating');
          btn.disabled = true;
          
          try {
            const translatedQuestion = await translateText(question, targetLang);
            const translatedAnswer = await translateText(answer, targetLang);
            
            const card = btn.closest('.card');
            card.querySelector('.q').textContent = translatedQuestion;
            card.querySelector('.a').textContent = translatedAnswer;
            
          } catch (error) {
            console.error('Re-translation failed:', error);
          } finally {
            btn.innerHTML = 'üîÑ Re-translate';
            btn.classList.remove('translating');
            btn.disabled = false;
          }
        });
      });
    }

    // === ÂàùÂßãÂåñ ===
    updatePendingCount();
    updateCategories();
    render();

    // ÊØè5ÂàÜÈíüÊõ¥Êñ∞‰∏ÄÊ¨°ÂæÖÂ§ÑÁêÜÈóÆÈ¢òÊï∞Èáè
    setInterval(updatePendingCount, 300000);
  </script>
</body>
</html>